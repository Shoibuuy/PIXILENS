<%- include('../layouts/header') %>


    <div style="padding: 60px 10%;">

        <!DOCTYPE html>
        <html lang="en">

        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Address Form</title>
            <style>
                .form-group {
                    margin-bottom: 15px;
                }
            
                .error {
                    color: red;
                    display: block; /* Ensure that the error message is displayed as a block */
                    min-height: 1em; /* Set a minimum height to ensure visibility */
                }
            </style>
        </head>

        <body>

            <form method="post" action="/addAddress" onsubmit="return validateForm()">
                <div class="form-group">
                    <input type="text" name="type" placeholder="Title for the address *">
                    <small class="error" id="type-error"></small>
                </div>
                <div class="form-group">
                    <input type="text" name="name" placeholder="Your name *">
                    <small class="error" id="name-error"></small>
                </div>
                <div class="form-group">
                    <input type="tel"  name="phone" placeholder="Phone">
                    <small class="error" id="phone-error"></small>
                </div>
                <div class="form-group">
                    <input type="text" name="houseName" placeholder="House name *">
                    <small class="error" id="houseName-error"></small>
                </div>
                <div class="form-group">
                    <input type="text" name="street" placeholder="Street">
                    <small class="error" id="street-error"></small>
                </div>
                <div class="form-group">
                    <input type="text" name="city" placeholder="City / Town *">
                    <small class="error" id="city-error"></small>
                </div>
                <div class="form-group">
                    <input type="text" name="state" placeholder="State *">
                    <small class="error" id="state-error"></small>
                </div>
                <div class="form-group">
                    <input type="tel" name="pincode" placeholder="Pincode">
                    <small class="error" id="pincode-error"></small>
                </div>
                <div class="d-grid">
                    <input type="submit" class="btn btn-primary" value="Add address">
                </div>
            </form>



        </body>

        </html>



    </div>


    <script>
        function validateForm() {
            let isValid = true;
    
            // Reset error messages and styles
            const errorElements = document.querySelectorAll('.error');
            errorElements.forEach(errorElement => {
                errorElement.textContent = '';
            });
    
            // Validate each input field
            const formInputs = document.querySelectorAll('form input');
            formInputs.forEach(input => {
                const fieldName = input.name;
                const errorElement = document.getElementById(`${fieldName}-error`);
    
                if (input.value.trim() === '') {
                    errorElement.textContent = 'Please fill out this field.';
                    isValid = false;
                }
    
                // Additional validation rules
                switch (fieldName) {
                    case 'phone':
                        if (!/^\d{10}$/.test(input.value.trim())) {
                            errorElement.textContent = 'Phone number must be exactly 10 digits.';
                            isValid = false;
                        }
                        break;
    
                    case 'pincode':
                        if (!/^[0-9]{6}$/.test(input.value.trim())) {
                            errorElement.textContent = 'Pincode must be exactly 6 digits.';
                            isValid = false;
                        }
                        break;
                        
                    default:
                        break;
                }
            });
    
            return isValid;
        }
    </script>
    


    <%- include('../layouts/footer') %>